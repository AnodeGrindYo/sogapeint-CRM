<!-- <p>kpi-card works!</p> -->
<div class="card kpi-card">
    <div class="card-header">
      <div class="row">
        <div class="col">
          <select class="form-select" [(ngModel)]="selectedKpi" (change)="onKpiChange()">
            <option value="totalOrders">Total des commandes</option>
            <option value="activeOrders">Commandes actives</option>
            <option value="inactiveOrders">Commandes inactives</option>
            <option value="completedOrders">Commandes complétées</option>
            <option value="averageExecutionTime">Temps d'exécution moyen</option>
            <option value="totalRevenue">Revenu total</option>
            <option value="averageRevenue">Revenu moyen</option>
            <option value="ordersByService">Commandes par service</option>
            <option value="ordersWithIncidents">Commandes avec incidents</option>
            <option value="mailResponseRate">Taux de réponse aux mails</option>
            <option value="contributorsEfficiency">Efficacité des contributeurs</option>
            <option value="occupationRate">Taux d'occupation</option>
            <option value="averageBillingAmount">Montant moyen de facturation</option>
            <option value="averageExternalContributorPaymentDelay">Délai de paiement moyen des contributeurs externes</option>
            <option value="ordersStatusDistribution">Distribution du statut des commandes</option>
            <option value="customerRenewalRate">Taux de renouvellement des clients</option>
          </select>
        </div>
        <div class="col">
          <select class="form-select" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()">
            <option value="day">Jour</option>
            <option value="week">Semaine</option>
            <option value="month">Mois</option>
            <option value="quarter">Trimestre</option>
            <option value="year">Année</option>
          </select>
        </div>
      </div>
    </div>
    <div class="card-body">
      <h5 class="card-title">{{ selectedKpiName }}</h5>
      <div class="kpi-value">
        <span class="kpi-amount">{{ kpiValue | currency:'EUR' }}</span>
        <span class="kpi-percentage-change" [ngClass]="{ 'text-success': kpiChange >= 0, 'text-danger': kpiChange < 0 }">
          {{ kpiChange | percent:'1.0-2' }} <span>depuis la période précédente</span>
        </span>
      </div>
    </div>
  </div>
  
